var TINGYUN=function(t,e,n){function r(t){return JSON.parse(t)}function i(t){return JSON.stringify(t)}function o(t){var e=!!t&&"length"in t&&t.length,n=typeof t;return"function"!==n&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,n){var r,i=0;if(t)if(o(t))for(r=t.length;i<r&&e.call(t[i],t[i],i)!==!1;i++);else for(i in t)if((n||Object.prototype.hasOwnProperty.call(t,i))&&e.call(t[i],t[i],i)===!1)break;return t}function c(t){return function(e){return"Array"===t&&Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object "+t+"]"}}function u(t){return new Function("return "+t)()}function s(t){switch(typeof t){case"object":if(!t)return null;if(t instanceof Array){var e=me.call(t);return a(e,function(t,n){e[n]=s(t)}),"["+e.join(",")+"]"}if(t instanceof Date)return t.getTime().toString();var n="";return a(t,function(t,e){he(t)||(n+=s(e)+":"+s(t)+",")}),n&&(n=n.substr(0,n.length-1)),"{"+n+"}";case"string":return ye+t.replace(be,"\\$1").replace(_e,"\\n")+ye;case"number":return isNaN(t)?null:t;case"boolean":return t;case"function":return s(t.toString());case"undefined":default:return'"undefined"'}}function f(t){return t&&le(t)?se(t):t}function l(t,e,n,r){return t.addEventListener(e,n,r)}function d(t,e,n){return t.removeEventListener(e,n)}function h(t,e,n){return t.attachEvent("on"+e,n)}function v(t,e,n){return t.detachEvent("on"+e,n)}function p(t,e,n,r){var i=function(){return Se(t,e,i),n.apply(this,arguments)};return we(t,e,i,r)}function g(t,e){return Function.prototype.apply.apply(t,e)}function m(t,e){return function(){t.apply(e,arguments)}}function y(t){return ke?ke(t):t}function b(t){var e=arguments.length;if(e<2||!t)return t;var n=me.call(arguments,1);return a(n,function(e){a(e,function(e,n){t[n]=e})}),t}function _(t,e){for(var n=-1,r=0,i=null==t?0:t.length,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function x(t,e){return t?e?t.replace(/\{(\w+.?\w+)\}/g,function(t,n){return e[n]||""}).replace(/\{(\d+)\}/g,function(t,n){return e[n]||""}):t:""}function w(t,e,n){var r;if(null==t)return-1;var i=Object(t),o=i.length>>>0;if(0===o)return-1;var a=+n||0;if(Math.abs(a)===1/0&&(a=0),a>=o)return-1;for(r=Math.max(a>=0?a:o-Math.abs(a),0);r<o;){if(r in i&&i[r]===e)return r;r++}return-1}function S(t,e){var n=null==t?0:t.length;if(!n)return-1;for(var r=n;r--;)if(t[r]===e)return r;return r}function k(t){return setTimeout(t,0)}function E(){}function T(){return+new Date}function C(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}function O(t){return t?le(t)?t.length:e.ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:e.Blob&&t instanceof Blob?t.size:t.length?t.length:0:0}function I(t,e,n){return!!t&&(n=n||0,t.indexOf(e)==n)}function R(t){return Te!==Ce&&/^https/i.test(t&&t.protocol||Te)?"https:":Ce}function j(t,e,n,r){var i=null;return t&&e&&(i=R(r)+"//"+t+e,n&&(i+="?",a(n,function(t,e){var n=[y(e),"=",y(t),"&"];i+=n.join("")}),i+="__r="+T())),i}function q(){this.events={}}function z(t){return!(t in ze)||ze[t]}function N(t){var e=Re.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?e[3]:null}function L(t,e,n,r){var i=t+"="+e;if(n){var o=new Date;o.setTime(o.getTime()+1e3*n),i+=";expires="+o.toGMTString()}r&&(i+=";path="+r),Re.cookie=i}function A(t,e){e=e||E;var n=new Image;we(n,Ke,function(){"loaded"!=n.readyState&&4!=n.readyState||e(null)},!1),we(n,Xe,function(){e(null)},!1),we(n,Ge,function(){e(Ge)},!1),n.src=t}function H(t,e,n){var r=Re.createElement(t);try{for(var i in e)r[i]=e[i]}catch(o){var a="<"+t;for(var i in e)a+=" "+i+'="'+e[i]+'"';a+=">",n||(a+="</"+t+">"),r=Re.createElement(a)}return r}function M(t,e,n,r){he(n)&&(r=n);var i=H("div",{style:sn}),o=H("iframe",{name:"ty_form",width:0,height:0,style:sn}),a=H("form",{style:sn,action:t,enctype:"application/x-www-form-urlencoded",method:"post",target:"ty_form"}),c=H("input",{name:"data",type:"hidden"},!0);c.value=fe(e),a.appendChild(c),i.appendChild(o),i.appendChild(a),Re.body.appendChild(i),a.submit(),o.onreadystatechange=function(){o.readyState!==Ve&&4!==o.readyState||(r(null,o.innerHTML),Re.body.removeChild(i))}}function B(t,e,n,r){he(n)&&(r=n,n=null);var i=C(r),o=new je;o[an]=!0,o.overrideMimeType&&o.overrideMimeType("text/html"),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&i(null,o.responseText)},o.onerror=i,e=fe(e);try{o.open(fn,t,!0)}catch(a){return M(t,e,i)}for(var c in n)o.setRequestHeader(c,n[c]);o.send(e)}function D(t,e,n){if(t&&n&&he(n)){var r=t[e];if(!r||!r._wrapped){var i=n(r);return i&&(i._wrapped=!0),t[e]=i,i}}}function P(t){dn&&t()}function F(t){return function(){dn&&t.apply(this,arguments)}}function U(){dn=!1}function Y(){gn.on(Xe,C(function(){t();var e=T();P(function(){hn.load=e}),_n.loadEventEnd=e})),a([Xe,We,Je,$e],function(t){we(e,t,function(e){P(function(){(hn.e[t]||(hn.e[t]=[])).push(T())}),gn.emit(t,e)})});var t=C(function(){var t=T();P(function(){hn.end=t}),_n.domContentLoadedEventStart=t,Re.querySelectorAll&&(pn.resources=pn.resources||[],a(Re.querySelectorAll("head>link,head>script"),function(t){var e;"LINK"==t.tagName?e=t.href:"SCRIPT"!=t.tagName||t.defer||t.async||(e=t.src),e&&pn.resources.push(e)}))});we(Re,"DOMContentLoaded",t),we(Re,Ke,function(e){Re.readyState===Ve&&t()});var n=C(function(){_n.touch=T()});a(["scroll","click","keypress"],function(t){p(Re,t,n)});var r=e.requestAnimationFrame;!r||r.toString().indexOf("[native code]")<0||D(e,"requestAnimationFrame",function(t){return function(){if(!_n.firstPaint){var n=T();P(function(){hn.an.count++,hn.an.t=n}),_n.firstPaint=n,e.requestAnimationFrame=t}return t.apply(this,arguments)}})}function G(t){W(t,mn)}function X(t){W(t,yn)}function W(t,e){var n="ok";return t?void e.push(t):n=e.length?e.join("\n"):n}function J(){var t=this;t.xhrs={},t.errs=[],q.call(t)}function $(){var t=Fe(Ze);return t?t:Ue(Ze,Oe(),en)}function K(){var t=N(tn);return t||(t=Oe(),L(tn,t,null,"/")),t}function V(t){function e(t,e,r){var i=r||"log",o=n[t]||(n[t]={});o[i]=o[i]||"",o[i]+=e}var n={},r=G();if(e("Status",r,"ok"!==r),e("Debug",X()),a(Tn,function(t,n){e("Timeline",n+": "+t.toString())}),!t&&Cn)console.log("[TingYun Agent Diagnosis]\n"),a(n,function(t,e){var n=console[e];a(n,function(t,e){console[e](t)})});else{if(t!==on)return fe(n);He.href=He.href+"#"+fe(n)}}function Q(t,e){this.flags=0,he(t.create)&&(this.create=t.create,this.flags|=On),he(t.before)&&(this.before=t.before,this.flags|=In),he(t.after)&&(this.after=t.after,this.flags|=Rn),he(t.error)&&(this.error=t.error,this.flags|=jn),this.data=e}function Z(t,e){if(!zn){if(!ve(t)||!t)throw new TypeError("callbacks arguments must be an object");return zn=new Q(t,e)}}function tt(t){var e=zn.data;if(0!==(zn.flags&On)){var n=zn.create(zn.data);void 0!==n&&(e=n)}return function r(){0!==(zn.flags&In)&&zn.before(this,e);var n=r;n._&&(n._=1);try{var i=t.apply(this,arguments)}catch(o){throw 0!==(zn.flags&jn)&&zn.error(e,o),o}return 0!==(zn.flags&Rn)&&zn.after(this,e),i}}function et(t){return!zn||zn.flags<=0?t:tt(t)}function nt(){function t(t){return function(e){var n=me.call(arguments,0);he(e)&&(n[0]=et(e));var r=this;try{return t.apply(r,n)}catch(i){}return g(t,[r,n])}}D(e,"setTimeout",t),D(e,"setInterval",t)}function rt(){this.id=null,this.active=null,this._set=[]}function it(){nt();var t=new rt;return t.id=Z({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e,n){if(e){try{var r="moduleId";n[r]=e[r]}catch(i){}t.exit(e)}}}),t}function ot(){return Ln||(Nn=it(),Ln=!0),Nn}function at(t){Cn&&console.warn(t||"Event key required!")}function ct(t){t=t||{},this.key=t.key;var e=t.timeout||6e5;this.i=e?setTimeout(m(this.fail,this),e):null,this.status=1,this.remain=0,this.xhrs=[],this.s=T(),this.e=null,this.called=this.sent=!1}function ut(t){t=t||{};var e=t.key;if(!e)return new at;if(Mn[e])return new at("event "+e+" is executing");Mn[e]=!0;var n=Nn.createContext();Nn.enter(n);var r=new ct(t);return Nn.set("event",r),r._end=function(){var t=this;!t.sent&&0===t.remain&&t.called&&t.finish().send(n)},r.end=function(t){var e=this;return e.called?void(Cn&&console.warn("Event "+this.key+"has ended or failed!")):(e.called=!0,Nn.exit(n),e.status=arguments.length?t:1,void e._end())},r.finish=function(t){var e=this;return e.e=T(),e.i&&clearTimeout(e.i),delete Mn[e.key],e},r.fail=function(){this.end(0)},r}function st(t){var e=t[Fn];e?(e=parseInt(e),new Date(e).toDateString()===(new Date).toDateString()?t[Un]=!0:t[Un]=!1,t[Yn]=!1):(t[Fn]=T(),t[Un]=!0,t[Yn]=!0)}function ft(t){function e(t,e){var n=t.indexOf("?");if(n>-1&&(t=t.substr(0,n)),t=t.replace(/^http(s)?:\/\//,""),I(t,e))return!0;var r=Wn.exec(t),i=Wn.exec(e);return r&&i?r[2]==i[2]:I(t,e)}var n=Re.referrer;n&&!e(n,He.host)&&(t[Gn]=n)}function lt(t){var e={};if(t=t||He.href,!t)return e;var n=t.indexOf("?");return n>=0&&(t=t.substring(n+1)),t?(a(t.split("&"),function(t){var n=t.split("="),r=dt(n[0]),i=dt(n[1]);r&&i&&(e[r]=i)}),e):e}function dt(t){try{return decodeURIComponent(t)}catch(e){}return null}function ht(){return f(Fe(Pn))||{}}function vt(){var t=ht();st(t),ft(t);var e=lt(He.search);a(["source","medium","term","content","campaign"],function(n){var r="utm_"+n;e[r]&&(t["latest_"+r]=e[r])}),t.pageref=Re.referrer||"",t.first_browser_language=Me.language||Me.browserLanguage,t[Gn]=t[Gn]||"",t.screen_height=Bn.sh,t.screen_width=Bn.sw,Ue(Pn,fe(t),Xn);var n=b({},t);delete n[Fn],vn.resources={uf:n}}function pt(t,e){if(!t||!t.id)throw new Ie(x(En,["User or userId"]));_n.emit("send","/userprofile",null,{user:t,properties:e||{}})}function gt(t,e,n){if(!le(t))throw new Ie(x(En,["EventId"]));_n.emit("send","/event",null,{event_id:t,tag:e||"",properties:n||{},uf:Jn()})}function mt(t){this.limit=t,this.reset()}function yt(t,e,n,r){return String(t)+String(e)+String(n)+String(r)}function bt(t,e,n,r,i,o,a,c,u){var s=this;s.id=t,s.time=T(),s.msg=e,s.lineno=r,s.colno=i,s.filename=n,s.count=1,s.stack=o&&o.stack||"",s.module=a,s.trigger=c,s.customObj=u,s.fix();var f=tr[t];s.ep=f?0:1,tr[t]=!0}function _t(t){var e=function(t){var e=[];return a(t,function(t){e.push(t.toObject())}),e}(Zn.c);if(!e||!e.length)return null;var r={fu:Qn?Qn:Qn++,os:parseInt((T()-(pn.pfStart||n))/1e3)};vn.ulabel&&(r.ulabel=vn.ulabel),_n.emit("send","/err1",r,{datas:e},m(Zn.reset,Zn))}function xt(t,e,n,r,i,o,c){if(e||!Le){var u=!1;if(a(qe.domains,function(t){if(u=t.test(e))return!1}),!u){var s=i&&i.moduleId,f=yt(t,n,r,s),l=Zn.get(f);l?l.increase():(l=new bt(f,t,e,n,r,i,s,o,c),Zn.add(f,l),_n.errs&&_n.errs.push(l))}}}function wt(){var t=e.onerror;e.onerror=function(e,n,r,i,o){if(xt(e,n,r,i,o,Kn),he(t))return t.apply(this,arguments)},e.onerror._ty=!0}function St(){var t=e.onerror;t&&t._ty||wt()}function kt(t,e){if(t){var n=t.message||"",r=t.stack,i="",o=0,c=0;if(r){var u=r.split(/\n/);a(u,function(t,e){if(t&&(t=t.trim()),t&&0===t.indexOf("at ")){var n=t.indexOf("("),r=t.indexOf(")");if(n&&r){var a=n+1;a>r&&(a=r);var u=t.substring(a,r);if(u){var s=u.split(":");s&&s.length>2&&(i=(s.slice(0,s.length-2)||[]).join(":"),o=+s[s.length-2],c=+s[s.length-1])}}}if(i&&pe(o)&&o>0&&pe(c)&&c>0)return!1})}xt(n,i,o,c,{stack:r},$n,e)}}function Et(){var t=Ee();return t?wt():we(e,Ge,function(t){var n,r,i,o,a;(t instanceof e.Event||e.ErrorEvent&&t instanceof e.ErrorEvent)&&(n=t.message||t.error&&(t.error.message||t.error.constructor.name)||"",r=t.lineno||0,i=t.colno||0,o=t.filename||t.error&&t.error.filename||t.target&&t.target.baseURI||"",o==Re.URL&&(o="#"),a=t.error),xt(n,o,r,i,a,Kn)}),gn.on([Xe,We,Je,$e],function(t){_t()}).on(Xe,function(){t&&k(St)}),setInterval(_t,Vn)}function Tt(t,e){var n;if(ve(t))n=t;else{if(!le(t)||void 0===e)throw new Ie(kn);n={},n[t]=e}return a(n,function(t,e){e in er?vn[er[e]]=t:vn[e]=t}),this}function Ct(t){if(le(t))return Tt("ulabel",t);throw new Ie(kn)}function Ot(t){if(t){var e=vn.firstScreenResources=vn.firstScreenResources||[];de(t)||(t=[t]),a(t,function(t){if(le(t))e.push(t);else if(wn(t)){var n=t.src||t.href;n&&e.push(n)}})}}function It(t){de(t)||(t=[t]),a(t,function(t){if(t){if(!(t instanceof RegExp))throw new Ie("parameter's type requires RegExp");(qe.domains||(qe.domains=[])).push(t)}})}function Rt(){if(Object.defineProperty){var t=e[nn];Object.defineProperty(e,nn,{get:function(){return rr++>0&&e.console&&console.warn("window.%s is deprecated, use window.%s instead.",nn,rn),t}})}}function jt(t){try{return f(t)}catch(e){G(e&&e.message)}return null}function qt(){return _n[ur]||_n._end}function zt(){return _n.loadEventEnd||_n._end}function Nt(t){function r(e){return t[e]>0?t[e]-o:0}var i={},o=n;if(t){P(function(){var e=hn.t={};a(t,function(t,n){he(t)||(e[n]=t)},!0)}),o=t.navigationStart,i={f:r(ir),qs:r(or),rs:r(ar),re:r(cr),os:r(ur),oe:r(sr),oi:r(fr),oc:r(lr),ls:r(dr),le:r(hr),tus:r(vr),tue:r(pr)};var c=r(gr),u=r(mr),s=r(yr),f=r(br),l=r(_r),d=r(xr);if(d-l>0&&(i.cs=l,i.ce=d),u-c>0&&(i.ds=c,i.de=u),(f-s>0||f>0)&&(i.es=s,i.ee=f),0==i.le){var h=zt();i.ue=h-o,Jt()&&(i.ue=h-n)}_n._le=i.ue||i.le;var v,p;if(t.msFirstPaint)v=t.msFirstPaint,P(function(){hn.fp="m_"+v});else if((p=e.chrome)&&p.loadTimes){var g=p.loadTimes();g&&g.firstPaintTime&&(v=1e3*g.firstPaintTime),P(function(){hn.fp="c_"+g.firstPaintTime})}else _n.firstPaint&&(v=_n.firstPaint,P(function(){hn.fp=v}));v&&(i.fp=Math.round(v-o),_n.fp=i.fp),t[wr]&&(i.sl=r(wr))}else i={t:o,os:qt()-o,ls:zt()-o};return i.je=_n.errs&&_n.errs.length||0,_n.ct&&(i.ct=_n.ct-o),_n.touch&&(i.fi=_n.touch-o),i}function Lt(t,e){var r={tr:!1,tt:y(Re.title),charset:Re.characterSet};vn.resources&&b(r,vn.resources),P(function(){r.debug=hn}),U();var i=_n.errs;a(i,function(t,r){var o=t.toObject();Jt()?o.o=o.o-n:o.o=o.o-e&&e.navigationStart||n,i[r]=o}),r.err=i;var o,c="getEntriesByType",u="getEntries";return t[c]?o=t[c]("resource"):X(x(Sn,[c])),Jt()&&(o=t[u]),o&&(r.tr=!0,r.res=[],a(o,function(t){function e(e){var n=t[e];return n>0?n:0}var n=t.initiatorType,i=t.name,o={o:e("startTime"),rt:n,n:i,f:e(ir),ds:e(gr),de:e(mr),cs:e(_r),ce:e(xr),sl:e(wr),qs:e(or),rs:e(ar),re:e(cr),ts:t.transferSize||0,es:t.encodedBodySize||0};if(Jt()&&(o.ec=t.errorCode||0),"xmlhttprequest"===n){var a=At(i);a&&(o.aid=a.s_id,o.atd=a.t_id,o.an=a.s_name,o.aq=a.s_qu,o.as=a.s_du)}r.res.push(o)})),r}function At(t){var e;return a(_n.xhrs,function(n,r){if(r&&t.indexOf(r)>-1)return e=n,!1}),e}function Ht(t){var e={};return t&&(e.id=t.id,e.a=t.a,e.q=t.q,e.tid=t.tid,e.n=t.n),e}function Mt(t){if(!t.agent){var n=e._ty_rum;if(n&&n.agent)t.agent=n.agent;else{var r="TINGYUN_DATA",i=N(r);if(i){try{t.agent=jt(decodeURIComponent(i))}catch(o){G(o&&o.message)}L(r,"",-1e3)}}}return t.agent}function Bt(t){var e=0,n=t.timing;return n?t.getEntriesByName&&(e=n.domLoading,a(pn.resources,function(r){var i=t.getEntriesByName(r);if(1==i.length){var o=i[0].responseEnd+n.navigationStart;o>e&&(e=o)}}),e-=n.navigationStart):X("fp=0"),P(function(){hn._fp=e}),Math.round(e)}function Dt(t,n,r,i){var o=r||0,c=vn.firstScreenResources;if(c&&c.length&&t.getEntriesByName)return a(c,function(e){var n=t.getEntriesByName(e);if(n.length){var r=n[0],i=r.responseEnd;i>o&&(o=i)}}),i.fs_s=1,Math.round(o);var u=Re.createElement("img");if(!u.getBoundingClientRect)return P(function(){hn.fs=o}),o;if(t.getEntriesByName){var s=e.innerHeight,f=e.innerWidth,l=[];a(Re.querySelectorAll("img"),function(t){t.src&&Pt(Ft(t),s,f)&&!Ut(t)&&l.push(t.src)});var d=(n.loadEventEnd||_n.loadEventEnd)-n.navigationStart;a(l,function(e){var n=t.getEntriesByName(e);if(n.length){var r=n[0],i=r.responseEnd;r.fetchStart<=d&&i>o&&(o=i)}})}return Math.round(o)}function Pt(t,n,r){if(t){var i=e.pageYOffset,o=t.top+(0===i?0:i||Re.scrollTop||0)-(Re.clientTop||0);if(o>=n)return!1;var a=t.left;return a>=0&&a<r}return!1}function Ft(t){return he(t.getBoundingClientRect)?t.getBoundingClientRect():void 0}function Ut(t){return Pe.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Yt(t)}function Yt(t){for(;t&&1===t.nodeType;){if("none"===Gt(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Gt(t){return t.style&&t.style.display}function Xt(t){var e=n,r=0;return t&&(e=t.navigationStart||e,r=t[ur]||t.domInteractive||t.domLoading||r,Jt())?r-e:(r=_n[ur]||r||_n._end,r-e)}function Wt(t){if(t){var e=t.fetchStart;if(e)return e-t.navigationStart}}function Jt(){return e.nbperf&&e.nbperf.data}function $t(t){var e;return t&&(e=!0,a(t,function(){return e=!1},!0)),!!e}function Kt(t){return function e(n,r){var i=this,o=e;if(o._&&(o._=1),!i[an]){var a=i[nn]={};a.method=n,a.url=r,a.id=Ir++;var c=Nn.get("event");c&&(a.key=c.key,c.remain++)}try{return t.apply(i,arguments)}catch(u){}return g(t,[i,arguments])}}function Vt(t){return function e(n,r){var i=this,o=e;if(o._&&(o._=1),!i[an]){var a=i[nn];a&&n&&"ty_rum_path"===n&&(a.ty_rum_path=r)}try{return t.apply(i,arguments)}catch(c){}return g(t,[i,arguments])}}function Qt(t){return function e(n){var r=this,i=e;if(i._&&(i._=1),!r[an]){var o=r[nn];o&&(o.start=T(),o.reqSize=O(n)),Zt(r),r.setRequestHeader&&ze.id&&o&&qr(o.url)&&(o.r=T()%1e9,r.setRequestHeader("X-Tingyun-Id",ze.id+";r="+o.r))}try{return t.apply(r,arguments)}catch(a){}return g(t,[r,arguments])}}function Zt(t){function e(e){return et(function n(){var r=n;r._&&(r._=1),te(t);var i;if(he(e)){var o=t[nn];if(o&&4==t.readyState)var a=T();i=e.apply(this,arguments),o&&4==t.readyState&&(o.cbTime=T()-a,t[nn]=null)}return i})}function n(e){t[nn]&&(t[nn].errorCode=e)}var r=t[jr];if(r)D(t,jr,e);else try{we(t,Ke,et(function o(){var e=o;e._&&(e._=1),te(t)})),a(Rr,function(e,r){we(t,r,function(){n(e)})})}catch(i){return void k(function(){a(Rr,function(e,r){var i="on"+r;t[i]?D(t,i,function(t){if(n(e),he(t))return t.apply(this,arguments)}):t[i]=function(){n(e)}}),D(t,jr,e)})}k(function(){D(t,jr,e)})}function te(t){var e=t[nn];if(e&&(e.end=T(),e.readyState=t.readyState,4==t.readyState)){e.status=t.status,e.resSize=ee(t);var n=Nn.get("event");k(function(){var r=!1;if(a(Or,function(t){if(t.id===e.id)return r=!0,!1}),!r){var i=ne(e,t);n&&n.key==e.key&&(n.xhrs.push(i),0===--n.remain&&n._end()),_n.xhrs&&(Cr(e),_n.xhrs[e.url]=i),Or.push(i)}})}}function ee(t){var e=0;if(""==t.responseType||"text"==t.responseType)e=O(t.responseText);else if(t.response)e=O(t.response);else try{e=O(t.responseText)}catch(n){}return e}function ne(t,e){if(t){var n=t.status,r={id:t.id,req:t.method+" "+t.url,start:t.start,du:n>0?t.end-t.start:0,cb:t.cbTime||0,status:n,err:t.errorCode?t.errorCode:0,rec:t.resSize,send:t.reqSize};if(t.ty_rum_path&&(r.csheader=t.ty_rum_path),t.r){var i=ie(e,t);i&&(r.s_id=i.id,r.s_name=i.action,i.time&&(r.s_du=i.time.duration,r.s_qu=i.time.qu),r.t_id=i.trId)}return r}}function re(t,e){if(t&&t.getResponseHeader)return t.getResponseHeader(e)}function ie(t,e){var n=jt(re(t,"X-Tingyun-Tx-Data"));return n&&n.r&&oe(n.r)===oe(e.r)?n:null}function oe(t){return t+""}function ae(){return setInterval(function(){if(Or&&Or.length){var t=[];a(Or,function(e){t.push(e)});var n=null;vn.ulabel&&(n={ulabel:vn.ulabel}),_n.emit("send","/xhr1",n,{xhr:t},function(){Or=_(Or,function(e){return(t.indexOf?t.indexOf(e):w(t,e))<0})}),Ee()&&!e.XDomainRequest&&(Or=[])}},Er)}function ce(){var t=je&&je.prototype;return t?(D(t,"open",Kt),D(t,"setRequestHeader",Vt),D(t,"send",Qt)):je&&(e.XMLHttpRequest=function(){var t=new je;return D(t,"open",Kt),D(t,"send",Qt),D(t,"setRequestHeader",Vt),t}),ae()}function ue(){return _n.start()&&(kr(),ce(),Et()),_n._end=T(),P(function(){hn._end=_n._end}),Rt(),nr}var se,fe,le=c("String"),de=c("Array"),he=c("Function"),ve=c("Object"),pe=c("Number"),ge=c("Undefined"),me=[].slice,ye='"',be=/([\"\\])/g,_e=/\n/g,xe=e.JSON;xe&&xe.parse&&xe.stringify?(se=r,fe=i):(se=u,fe=s);var we,Se;e.addEventListener?(we=l,Se=d):(we=h,Se=v);var ke=e.encodeURIComponent,Ee=function(){return!document.addEventListener},Te=e.location.protocol,Ce="http:",Oe=function(){function t(t){return t<0?NaN:t<=30?0|Math.random()*(1<<t):t<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<t-30))*(1<<30):NaN}function e(t,e){for(var n=t.toString(16),r=e-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}return function(){return e(t(32),8)+"-"+e(t(16),4)+"-"+e(16384|t(12),4)+"-"+e(32768|t(14),4)+"-"+e(t(48),12)}}();q.prototype={on:function(t,e){var n=this;return le(t)?(n.events[t]||(n.events[t]=[])).push(e):de(t)&&a(t,function(t){n.on(t,e)}),n},off:function(t,e){var n=arguments.length,r=this;if(0===n)return r.events={},r;var i=r.events[t];if(!i)return r;if(1===n)return r.events[t]=null,r;for(var o,a=i.length;a--;)if(o=i[a],o===e){i.splice(a,1);break}return r},emit:function(t){var e=[].slice.call(arguments,1),n=this.events[t];return n&&a(n,function(t){return t.apply(this,e)}),this},unshift:function(t,e){var n=this;return(n.events[t]||(n.events[t]=[])).unshift(e),n}};var Ie=e.Error,Re=e.document,je=e.XMLHttpRequest,qe={};t(qe);var ze=qe.server||{},Ne={fp_threshold:2e3,fs_threshold:4e3,dr_threshold:4e3};ze=b(Ne,ze);var Le=z("ignore_err"),Ae=z("debug"),He=e.location,Me=e.navigator,Be=e.HTMLElement,De=function(){try{var t=Oe();return e.localStorage.setItem(t,t),e.localStorage.removeItem(t),!0}catch(n){return!1}}(),Pe={};Pe.localStorage=De,function(){function t(){var t,f,l=Re.documentElement;l.appendChild(u),s.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=c=!1,r=a=!0,e.getComputedStyle&&(f=e.getComputedStyle(s),n="1%"!==(f||{}).top,c="2px"===(f||{}).marginLeft,i="4px"===(f||{width:"4px"}).width,s.style.marginRight="50%",r="4px"===(f||{marginRight:"4px"}).marginRight,t=s.appendChild(Re.createElement("div")),t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),s.removeChild(t)),s.style.display="none",o=0===s.getClientRects().length,o&&(s.style.display="",s.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=s.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),l.removeChild(u)}var n,r,i,o,a,c,u=(Re.documentElement,Re.createElement("div")),s=Re.createElement("div");s.style&&(s.style.cssText="float:left;opacity:.5",Pe.opacity="0.5"===s.style.opacity,Pe.cssFloat=!!s.style.cssFloat,s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Pe.clearCloneStyle="content-box"===s.style.backgroundClip,u=Re.createElement("div"),u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.innerHTML="",u.appendChild(s),Pe.boxSizing=""===s.style.boxSizing||""===s.style.MozBoxSizing||""===s.style.WebkitBoxSizing,Pe.reliableHiddenOffsets=function(){return null==n&&t(),o})}();var Fe,Ue;Pe.localStorage?(Fe=function(t){return e.localStorage.getItem(t)},Ue=function(t,n){return e.localStorage.setItem(t,n),n}):(Fe=N,Ue=L);var Ye,Ge="error",Xe="load",We="unload",Je="beforeunload",$e="pagehide",Ke="readystatechange",Ve="complete",Qe="on",Ze="TY_DISTINCT_ID",tn="TY_SESSION_ID",en=86400,nn="_ty_rum",rn="TINGYUN",on=2,an="__ign",cn="__ty_aysncWrap__",un=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1},sn="display:none",fn="POST",ln=A;un()?Ye=M:Me.sendBeacon?ln=Ye=function(t,e,n,r){he(n)&&(r=n,n=null);var i=Me.sendBeacon(t,fe(e));i&&r&&r()}:Ye=B;var dn=Ae,hn={start:n,e:{},an:{count:0},visible:[]},vn={},pn={};!function(){if(Ae){var t,e,n="visibilitychange";ge(Re.hidden)?ge(Re.msHidden)?ge(Re.webkitHidden)||(t="webkitHidden",e="webkit"+n):(t="msHidden",e="ms"+n):(t="hidden",e=n),ge(Re.addEventListener)||ge(Re[t])||we(Re,e,F(function(){hn.visible.push([Re[t],T()])}))}}();var gn=new q,mn=[],yn=[],bn=J.prototype;bn.start=function(){if(!ze.key)return G("missing config, agent disabled!"),!1;var t=e[nn]||e[rn];return t&&t.server?(G("already loaded!"),!1):(Y(),this)},b(bn,q.prototype);var _n=new J;_n.on("send",function(t,e,n,r){var i=j(ze.beacon,t,b({},xn,e||{}));switch(r=r||E,t){case"/pf":n?Ye(i,n,function(){_n.xhrs=_n.errs=null,r()}):ln(i,r);break;default:Ye(i,n,r)}});var xn={pvid:Oe(),ref:Re.URL,referrer:Re.referrer,key:ze.key,v:"1.7.8.0225",av:"1.7.8.0225",did:$(),sid:K()},wn=Be?function(t){return t instanceof Be}:function(t){t&&"object"==typeof t&&1===t.nodeType&&le(t.nodeName)},Sn="{0} not support",kn="illegal argument",En="{0} is invalid",Tn={},Cn="undefined"!=typeof e.console,On=1,In=2,Rn=4,jn=8,qn=Q.prototype;qn.create=qn.before=qn.after=qn.error=null;var zn;rt.prototype={createContext:function(){return Object.create?Object.create(this.active):it(this.active)},get:function(t){if(this.active)return this.active[t]},set:function(t,e){if(this.active)return this.active[t]=e},enter:function(t){if(!t)throw new Ie("context required!");this._set.push(this.active),this.active=t},exit:function(t){if(!t)throw new Ie("context required!");if(t===this.active)return void(this.active=this._set.pop());var e=this._set.lastIndexOf?this._set.lastIndexOf(t):S(this._set,t);if(e<0)throw new Ie("context not currently entered!");this._set.splice(e,1)},bind:function(t,e){e||(e=this.active?this.active:this.createContext());var n=this;return function(){n.enter(e);try{return t.apply(this,arguments)}catch(r){try{var i="moduleId";r[i]=e[i]}catch(o){}throw r}finally{n.exit(e)}}}};var Nn,Ln=!1,Nn=ot(),An=at.prototype;An.fail=An.end=E;var Hn=ct.prototype;Hn.end=Hn.finish=Hn.fail=null,Hn.send=function(t){var e=this;e.sent=!0;var n=t.event&&t.event.xhrs||[];a(n,function(t){t.start=t.start-e.s});var r={key:e.key,duration:e.e-e.s,status:e.status,xhrs:n};_n.emit("send","/spe",null,r,E)};var Mn={},Bn={},Dn=e.screen;Dn&&(Bn.sh=Dn.height,Bn.sw=Dn.width);var Pn="_ty_uf_data",Fn="_ty_first_day",Un="is_first_day",Yn="is_first_time",Gn="latest_referrer",Xn=2592e3,Wn=new RegExp(/(.*?)\.?([^\.]*?)\.?(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/);vt();var Jn=function(){var t=ht();return delete t[Fn],t},$n="api",Kn="onerror",Vn=1e4,Qn=0;mt.prototype={add:function(t,e){this.len>this.limit||this.get(t)||(this.c[t]=e,this.len++)},get:function(t){return this.c[t]},reset:function(){this.c={},this.len=0}};var Zn=new mt(100),tr={};bt.prototype={increase:function(){this.count++},fix:function(){var t=this,e=t.stack;if(e&&le(e)){e=e.split(/\n/);var n=[];a(e,function(t,e){t.indexOf(cn)==-1&&n.push(t)}),t.stack=n.join("\n")}},toObject:function(){var t=this;return{o:t.time,e:t.msg,l:t.lineno,c:t.colno,r:t.filename,ec:t.count,s:t.stack,m:t.module,ep:t.ep,tr:t.trigger,co:t.customObj}}};var er={host:"cshst",url:"csurl"},nr={version:"1.7.8.0225",config:Tt,DIAGNOSE_HREF:on,diagnose:V,createEvent:ut,logFirstScreen:Ot,addExcludedDomain:It,setError:kt};nr.ty_set_userprofile=nr.setUserProfile=pt,nr.ty_track_event=nr.trackEvent=gt,nr.setUserLabel=Ct,e[nn]=e[rn]=nr;var rr=0,ir="fetchStart",or="requestStart",ar="responseStart",cr="responseEnd",ur="domContentLoadedEventStart",sr="domContentLoadedEventEnd",fr="domInteractive",lr="domComplete",dr="loadEventStart",hr="loadEventEnd",vr="unloadEventStart",pr="unloadEventEnd",gr="domainLookupStart",mr="domainLookupEnd",yr="redirectStart",br="redirectEnd",_r="connectStart",xr="connectEnd",wr="secureConnectionStart",Sr=Mt(qe);Sr&&Sr.ulabel&&(vn.ulabel=Sr.ulabel);var kr=function(){var t=C(function(){function t(t){return t?"1":"0"}var r=e.performance;r||(r=jt(Jt()||""));var i=!!r;i&&$t(r)&&(i=!1),i||X(x(Sn,["pf"]));var o=Ht(Sr),c=r&&r.timing,u=b(Nt(c),o,vn),s=b({},Bn);s.ressize=!!c,_n.fp?(s.fp=_n.fp,i&&_n.fp>_n._le&&(X("fp>le"),s.fp=Bt(r),s.__fp=2)):i?(s.fp=Bt(r),s.__fp=1):s.fp=s.__fp=0,s.dr=Xt(c),i?s.fs=Dt(r,c,s.fp,s):s.__fs=0;var f,l="";if(i){var d="trace",h=Math.max(u.ls,0);h||(h=zt()-c.navigationStart||n),s[d]=h;var v=Wt(c);a(["fp","fs","dr",d],function(e){l+=t((v?s[e]-v:s[e])>=ze[e+"_threshold"])}),delete s[d],l.indexOf("1")>-1&&(f=Lt(r,c))}s.trflag=l||"0000",pn.pfStart=T(),delete u.firstScreenResources,delete u.resources,_n.emit("send","/pf",b(u,s),f,function(){X("pf sent!"),_n.xhrs=_n.errs=null})});return gn.on(Xe,function(){k(t)}).on([We,Je,$e],t)},Er=2e3,Tr=function(t){var e=[];return a(t,function(t){try{e.push(new RegExp(t))}catch(n){G(n&&n.message)}}),e}(ze.custom_urls),Cr=Tr.length?function(t){var e=t.url;!_n.ct&&e&&a(Tr,function(n){if(e.match(n))return _n.ct=t.end,!1})}:E,Or=[],Ir=0,Rr={error:990,abort:905,timeout:903},jr=Qe+Ke,qr=function(){function t(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}var e=/(msie|trident)/i.test(Me.userAgent),n=Re.createElement("a"),r=t(He.href);return function(e){var n=t(e);return n.protocol===r.protocol&&n.host===r.host}}(),zr=ue();return zr}(function(ty_rum){ty_rum.server = {id:'p35OnrDoP8k',beacon:'cn.changhong.com/tingyun',beacon_err:'cn.changhong.com/tingyun',key:'WG1D5Km_jbs',trace_threshold:7000,fp_threshold:2000,fs_threshold:4000,dr_threshold:4000,custom_urls:[],sr:1.0};},window,+new Date);
